(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{"1aeH":function(e,t,n){},"6w5V":function(e,t,n){},"98k/":function(e,t,n){},Dept:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n("cDcd"),a=Object(i.createContext)(),r=a.Provider,o=a.Consumer},IiiY:function(e,t,n){"use strict";n.r(t);n("f3/d");var i=n("cDcd"),a=n.n(i),r=n("/MKj"),o=n("eHHv"),s=n("9kay"),c=n("EfbJ"),u=n("foqy"),l=n("5FRD"),m=n("SiKo"),d=n("f4Vd"),h=(n("HAE/"),n("WLL4"),n("jm62"),n("8+KV"),n("0l/t"),n("ioFf"),n("rGqo"),n("yt8O"),n("RW0V"),n("a1Th"),n("h7Nl"),n("Btvt"),n("I5cv"),n("lwsE")),p=n.n(h),f=n("W8MJ"),v=n.n(f),g=n("PJYZ"),b=n.n(g),y=n("7W2i"),T=n.n(y),S=n("a1gu"),w=n.n(S),O=n("Nsbk"),I=n.n(O),k=n("lSNA"),C=n.n(k),E=n("g2mX"),_=n("t50E"),D=n("MrcO"),j=n("oRS0"),P=n("cSN9"),L=(n("VRzm"),n("CX2u"),n("TSYQ")),N=n.n(L),x=n("lSCD"),R=n.n(x),U=n("vN+2"),q=n.n(U),W=n("OEX3"),A=n("O766"),F=n("bIS8"),M=n("6454"),V=n("JoEb"),Q=n("oaCn"),H=n("sSFG");n("kTy2");function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=I()(e);if(t){var a=I()(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return w()(this,n)}}var B=function(e){T()(n,e);var t=K(n);function n(e){var i;return p()(this,n),i=t.call(this,e),C()(b()(i),"countdown",null),C()(b()(i),"webcamRef",a.a.createRef()),C()(b()(i),"setSnapshot",(function(e){var t=i.state.count;i.setState({snap:e,count:t+1})})),C()(b()(i),"resetModal",(function(){var e=i.props.webcamContext.webcamLib;e&&e.reset(),i.stopTimer(),i.setState({saving:!1,open:!1,count:0,snap:null})})),C()(b()(i),"handleTimerUpdate",(function(e){i.setState({timeLeft:e}),0===e&&i.submitSnapshot(!0)})),C()(b()(i),"handleCaptureSnapshot",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q.a,t=i.props.webcamContext,n=t.webcamLib,a=t.snap;if(!n)return null;try{a((function(t){i.setSnapshot(t),R()(e)&&e(t)}))}catch(e){return console.error(e),i.resetModal(),null}})),C()(b()(i),"handleResetSnapshot",(function(){i.setState({snap:null})})),C()(b()(i),"handleSubmitSnapshot",(function(){i.submitSnapshot()})),i.state={getLiveFeed:!1,timeLeft:H.m,count:0,snap:null,open:!0,saving:!1},i}return v()(n,[{key:"componentDidMount",value:function(){var e=this.state.open,t=this.props.attemptId,n=!!D.a.get(Object(V.l)(t));e&&!n?this.setState({getLiveFeed:!0}):this.resetModal()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,i=n.webcamContext,a=i.webcamLib,r=i.webcamStatus,o=i.loadStatus,s=n.appUtil.assetPath,c=n.attemptId,u=this.state,l=u.getLiveFeed,m=u.snap,d=this.webcamRef.current,h=e.webcamContext;if((l&&!t.getLiveFeed||o!==h.loadStatus)&&a&&d){a.reset();var p=d.getBoundingClientRect().width,f=3*p/4;a.set({width:p,height:f,swfURL:s("webcam.swf")}),a.attach(d)}else l&&h.webcamStatus!==r&&(r===Q.c.FOUND?(this.startCountdown(),D.a.set(Object(V.l)(c),!0)):r!==Q.c.DENIED&&r!==Q.c.UNAVAILABLE||m||this.resetModal())}},{key:"componentWillUnmount",value:function(){var e=this.props.webcamContext.webcamLib;e&&e.reset(),this.stopTimer()}},{key:"submitSnapshot",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.state,i=n.count,a=n.snap,r=this.props,o=r.saveAttemptState,s=r.attemptId;this.setState({saving:!0}),a?o(s,{identity_verification_image:a,identity_verification_count:i}).finally(this.resetModal):t&&this.handleCaptureSnapshot((function(t){o(s,{identity_verification_image:t,identity_verification_count:i+1}).finally(e.resetModal)}))}},{key:"startCountdown",value:function(){this.countdown=new _.a(H.m),this.countdown.addListener(this.handleTimerUpdate)}},{key:"stopTimer",value:function(){this.countdown&&(this.countdown.dispose(),this.countdown=null)}},{key:"renderLiveFeed",value:function(){var e=this.props.t,t=this.state.snap;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:N()("photo-verification__live-feed",{"d-none":!!t}),ref:this.webcamRef}),a.a.createElement("div",{className:N()("photo-verification__snap-wrapper",{"d-none":!t})},a.a.createElement("img",{className:"photo-verification__snap",src:t,alt:e("proctor.snapshotAlt")})))}},{key:"renderMessage",value:function(){var e=this.props.t,t=this.state,n=t.timeLeft,i=t.snap,r=e("proctor.noSnapshotTakenTitle"),o=a.a.createElement(s.b,{i18nKey:"proctor.noSnapshotTakenDesc",count:n},"This photo will be used during your hiring process. We will take your photo automatically after ",a.a.createElement("span",{className:"photo-verification__message__time"},{timeLeft:n})," seconds");return i&&(r=a.a.createElement(a.a.Fragment,null,a.a.createElement(F.CheckCircleIcon,{className:"photo-verification__success-icon"}),a.a.createElement("span",null,e("proctor.snapshotTakenTitle"))),o=a.a.createElement(s.b,{i18nKey:"proctor.snapshotTakenDesc",count:n},"'Starting test automatically in '",a.a.createElement("span",{className:"photo-verification__message__time"},{timeLeft:n})," seconds")),a.a.createElement("div",{className:"photo-verification__content"},a.a.createElement("h2",{className:"d-flex align-items-center photo-verification__heading"},r),a.a.createElement("div",{className:"photo-verification__message"},a.a.createElement("span",null,o)))}},{key:"renderActions",value:function(){var e=this.props,t=e.webcamContext.webcamStatus,n=e.t,i=this.state,r=i.saving,o=i.snap,s=t!==Q.c.FOUND;return o?a.a.createElement(a.a.Fragment,null,a.a.createElement(W.c,{onClick:this.handleSubmitSnapshot,loading:r},n("proctor.submit")),a.a.createElement(W.d,{onClick:this.handleResetSnapshot,Icon:F.ShowIcon,disabled:s,iconAlignment:"left"},n("proctor.retakeSnap"))):a.a.createElement(W.c,{onClick:this.handleCaptureSnapshot,Icon:F.ShowIcon,disabled:s,iconAlignment:"left"},n("proctor.takeSnap"))}},{key:"render",value:function(){var e=this.state.open;return a.a.createElement(A.a,{open:e,size:"medium",theme:"theme-m",modalClass:"photo-verification__dialog"},this.renderLiveFeed(),this.renderMessage(),a.a.createElement("div",{className:"d-flex align-items-center photo-verification__actions"},this.renderActions()))}}]),n}(a.a.PureComponent);var G=Object(o.a)(Object(r.connect)((function(e){return{attemptId:e.candidate.attempt.id}}),(function(e){return{saveAttemptState:function(t,n){return e(Object(M.saveAttemptState)(t,n))}}})),Object(s.c)(["testview"]),c.a)(B),z=n("ayy4"),Y=n("tX8B"),Z=n("QfwD"),X=(n("NO8f"),n("KKXr"),n("o0o1")),J=n.n(X),$=(n("Z2Ku"),n("L9s1"),n("ls82"),n("yXPU")),ee=n.n($),te=(n("eM6i"),n("E+oP")),ne=n.n(te),ie=n("f7W5"),ae=n.n(ie),re=n("ZaSc"),oe=n("AGYi"),se=n("7fp8"),ce=n("kV2S"),ue=(n("DW2E"),Object.freeze({DIRECT_S3:1,PROXY_S3:2,HRW:3,GIVE_UP:4})),le="attempt_done",me="Policy expired",de="ExpiredToken";function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe=function(){function e(){if(p()(this,e),C()(this,"imageStack",void 0),C()(this,"proctorPolicy",void 0),C()(this,"policyExpiryTime",void 0),C()(this,"workerRunning",void 0),C()(this,"testCompleted",void 0),C()(this,"successCount",void 0),C()(this,"errorCount",void 0),C()(this,"concurrentErrorCount",void 0),C()(this,"requestSuccessDurations",void 0),C()(this,"requestFailureDurations",void 0),e.instance)return e.instance;this.imageStack=[],this.proctorPolicy={},this.policyExpiryTime=0,this.workerRunning=!1,this.testCompleted=!1,this.successCount=0,this.errorCount=0,this.concurrentErrorCount=0,this.requestSuccessDurations=[],this.requestFailureDurations=[],e.instance=this}var t,n,i;return v()(e,[{key:"addImage",value:function(e,t){var n=Date.now();Object(oe.c)(ce.b.Proctoring,ce.c.Proctoring.StackSize,{attribute5:this.imageStack.length}),this.imageStack.length>=5&&(Object(oe.c)(ce.b.Proctoring,ce.c.Proctoring.ImageDiscarded),this.imageStack.shift()),this.imageStack.push({attemptId:e,imageData:t,time:n,tryCount:0,errors:[]}),this.workerRunning||this.startImageUploadWorker()}},{key:"startImageUploadWorker",value:(i=ee()(J.a.mark((function e(){var t,n,i,a,r,o,s,c,u,l,m;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.workerRunning&&!this.testCompleted){e.next=2;break}return e.abrupt("return");case 2:this.workerRunning=!0;case 3:if(ne()(this.imageStack)){e.next=59;break}return t=this.imageStack[this.imageStack.length-1],n=t.attemptId,e.prev=6,e.next=9,this.updatePolicyIfRequired(n);case 9:e.next=23;break;case 11:if(e.prev=11,e.t0=e.catch(6),i=e.t0.message,!(a=void 0===i?"":i).includes(le)){e.next=19;break}return this.workerRunning=!1,this.testCompleted=!0,e.abrupt("return");case 19:return Object(oe.c)(ce.b.Proctoring,ce.c.Proctoring.PolicyRequestFail,{attribute1:a}),e.next=22,Object(Z.w)(15e3);case 22:return e.abrupt("continue",3);case 23:return r=Date.now(),t.tryCount++,o=this.getUploadStrategy(t),e.prev=26,e.next=29,this.uploadImage(t,o);case 29:s=0;case 30:if(!(s<this.imageStack.length)){e.next=37;break}if(this.imageStack[s]!==t){e.next=34;break}return this.imageStack.splice(s,1),e.abrupt("break",37);case 34:s++,e.next=30;break;case 37:c=Date.now()-r,this.requestSuccessDurations.push(c),this.successCount++,this.concurrentErrorCount=0,Object(oe.c)(ce.b.Proctoring,ce.c.Proctoring.Success,{attribute1:o.toString(),attribute6:c}),e.next=57;break;case 44:return e.prev=44,e.t1=e.catch(26),u=e.t1.message,l=void 0===u?"":u,m=Date.now()-r,this.requestFailureDurations.push(m),this.errorCount++,this.concurrentErrorCount++,t.errors.push(l),Object(oe.c)(ce.b.Proctoring,ce.c.Proctoring.StrategyFail,{attribute1:o.toString(),attribute2:l,attribute6:m}),(l.includes(me)||l.includes(de))&&(this.proctorPolicy={},Object(oe.c)(ce.b.Proctoring,ce.c.Proctoring.PolicyExpired,{attribute6:r-this.policyExpiryTime})),e.next=57,Object(Z.w)(15e3);case 57:e.next=3;break;case 59:this.workerRunning=!1;case 60:case"end":return e.stop()}}),e,this,[[6,11],[26,44]])}))),function(){return i.apply(this,arguments)})},{key:"getUploadStrategy",value:function(e){var t=e.tryCount;return t<=2?ue.DIRECT_S3:t<=3?ue.PROXY_S3:t<=4?ue.HRW:ue.GIVE_UP}},{key:"updatePolicyIfRequired",value:(n=ee()(J.a.mark((function e(t){var n,i;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Date.now(),!(ne()(this.proctorPolicy)||n>=this.policyExpiryTime)){e.next=7;break}return e.next=4,this.getProctorPresignedPolicy(t);case 4:this.proctorPolicy=e.sent,i=this.proctorPolicy.signedDuration||300,this.policyExpiryTime=n+1e3*(i-30);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"uploadImage",value:function(e,t){Object(oe.c)(ce.b.Proctoring,ce.c.Proctoring.UploadStrategy,{attribute1:t.toString()});var n=this.proctorPolicy,i=n.url,a=n.proxyUrl;switch(t){case ue.DIRECT_S3:return this.saveWebcamSnapS3(i,6e4,e);case ue.PROXY_S3:return this.saveWebcamSnapS3(a,6e4,e);case ue.HRW:return this.saveWebcamSnapHRW(e);case ue.GIVE_UP:return;default:throw new Error("Incorrect Upload Strategy")}}},{key:"saveWebcamSnapHRW",value:function(e){var t=e.time,n=e.imageData,i=e.attemptId,a=e.tryCount,r=e.errors,o={time:t,tryCount:a,errorCount:this.errorCount,concurrentErrorCount:this.concurrentErrorCount,successCount:this.successCount,requestSuccessDurations:this.requestSuccessDurations,requestFailureDurations:this.requestFailureDurations,errors:r,delay:Date.now()-t};return Object(u.e)(i,n,6e4,o)}},{key:"destroy",value:function(){e.instance=null}},{key:"dataURItoBlob",value:function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(t.length),a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return new Blob([i],{type:n})}},{key:"getProctorPresignedPolicy",value:(t=ee()(J.a.mark((function e(t){var n,i;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.c)({url:Object(se.c)("getProctorPresignedPolicy",{attemptId:t})});case 2:return n=e.sent,i={url:n.url,proxyUrl:n.proxy_url,signedDuration:n.signed_duration,postFields:n.post_fields,keyPrefix:n.key_prefix,expiryTime:n.expiry_time},e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"saveWebcamSnapS3",value:function(e,t,n){var i=this.proctorPolicy,a=i.keyPrefix,r=i.postFields,o=n.time,s=n.imageData;o=Math.round(o/1e3);var c="".concat(a).concat(o,".jpg"),u=pe(pe({},r),{},{key:c}),l=ae()(u);return l.append("file",this.dataURItoBlob(s)),Object(re.h)({url:e,data:l,timeout:t})}}]),e}();C()(fe,"instance",null);var ve=n("ADy/"),ge=n("214P");n("tHjC");function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=I()(e);if(t){var a=I()(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return w()(this,n)}}var Se=function(e){T()(n,e);var t=Te(n);function n(e){var a;p()(this,n),a=t.call(this,e),C()(b()(a),"counter",void 0),C()(b()(a),"getReadableTime",void 0),C()(b()(a),"getReadableShortTime",void 0),C()(b()(a),"webcamRef",Object(i.createRef)()),C()(b()(a),"lastSnapSignature",""),C()(b()(a),"cameraAttachTimeout",void 0),C()(b()(a),"intervalToSaveSnapshot",void 0),C()(b()(a),"showModal",(function(){a.props.webcamContext.webcamStatus===Q.c.CHECKING&&a.setState({showWebcamDialog:!0,noCamFeed:!1})})),C()(b()(a),"reattachCamera",(function(){a.setState({showWebcamDialog:!1,noCamFeed:!1})})),C()(b()(a),"timerTickListener",(function(e){var t=a.props.proctorInterval,n=Object(E.a)(e),i=a.getReadableTime(n),r={fullTimeString:i,approxTimeString:i,bypassTimerHide:!0,currentTimeLeft:e,shorterTimeString:""},o=!0;if(e>H.q&&(r.bypassTimerHide=!1,r.approxTimeString=a.getReadableTime(n,!0),o=!1),r.shorterTimeString=a.getReadableShortTime(n,o),e<H.t){var s=n.minutes+1,c=a.props.t,u="".concat(s," ").concat(c("common:time.minute",{count:s}));r.timerStringForScreenReader="".concat(c("testview:timerForScreenReader",{time:u}))}Z.d.emit(ge.h.COUNTDOWN,r),(e+a.intervalToSaveSnapshot)%t==0&&a.snapImageAndSave()}));var r=e.t,o=e.proctorInterval;return a.state={showWebcamDialog:!1,noCamFeed:!1,noSnap:!1},a.getReadableTime=Object(Y.b)(r),a.getReadableShortTime=Object(Y.a)(r),a.intervalToSaveSnapshot=Object(Z.h)(1,o-1),a}return v()(n,[{key:"componentDidMount",value:function(){this.emitInitialTimeLeft(),this.adjustTimerVisibility(),this.createCounter()}},{key:"componentDidUpdate",value:function(e,t){var n=e.sections,i=e.attempt,a=e.webcamContext,r=t.showWebcamDialog,o=this.props,s=o.sections,c=o.attempt;this.attachWebcam(a,r),s.currentSection===n.currentSection&&i.timeLeft===c.timeLeft||(this.counter.dispose(),this.emitInitialTimeLeft(),this.createCounter())}},{key:"componentWillUnmount",value:function(){var e=this.props.webcamContext.webcamLib;e&&e.reset(),this.counter.dispose(),this.counter=null,clearTimeout(this.cameraAttachTimeout)}},{key:"attachWebcam",value:function(e,t){var n=this.props,i=n.appUtil.assetPath,a=n.webcamContext,r=n.singleImageProctoring,o=n.continuousImageProctoring,s=a.webcamLib,c=a.webcamStatus,u=a.loadStatus;if(o){if(a!==e){var l=this.state.showWebcamDialog;c!==e.webcamStatus&&c===Q.c.FOUND&&l?this.setState({showWebcamDialog:!1,noCamFeed:!1}):l||c!==Q.c.UNAVAILABLE&&c!==Q.c.DENIED?(u!==e.loadStatus||!l&&t)&&s&&this.webcamRef.current&&(s.set(ye(ye({},Q.a),{},{swfURL:i("webcam.swf")})),s.attach(this.webcamRef.current),this.cameraAttachTimeout=setTimeout(this.showModal,1e3*H.b)):this.setState({showWebcamDialog:!0,noCamFeed:!1})}}else s&&!r&&s.reset()}},{key:"createCounter",value:function(){this.counter=new _.a(this.getTimeLeft()),this.counter.addListener(this.timerTickListener)}},{key:"emitInitialTimeLeft",value:function(){var e=this.getTimeLeft(),t=Object(E.a)(e),n=e<H.q,i=this.getReadableTime(t),a={bypassTimerHide:n,fullTimeString:i,approxTimeString:n?i:this.getReadableTime(t,!0),currentTimeLeft:e,shorterTimeString:this.getReadableShortTime(t,n)};if(e<H.t){var r=t.minutes+1,o=this.props.t,s="".concat(r," ").concat(o("common:time.minute",{count:r}));a.timerStringForScreenReader="".concat(o("testview:timerForScreenReader",{time:s}))}Z.d.emit(ge.h.COUNTDOWN,a)}},{key:"snapImageAndSave",value:function(){var e=this,t=this.state.noCamFeed,n=this.props,i=n.continuousImageProctoring,a=n.webcamContext,r=a.loadStatus,o=a.webcamLib,s=a.webcamStatus,c=a.snap,l=n.attempt,m=n.enableClientProctoringUpload;if(i&&!t&&r===ve.a.LOADED&&s===Q.c.FOUND&&o)try{c((function(t){var n=t.length>=1600?"".concat(t.length,"-").concat(t[800],"-").concat(t[1200],"-").concat(t[1500],"-").concat(t[1600]):"signature";n!==e.lastSnapSignature?(e.lastSnapSignature=n,m?function(e,t){(new fe).addImage(e,t)}(l.id,t):Object(u.e)(l.id,t)):e.setState({showWebcamDialog:!0,noCamFeed:!0})}))}catch(e){console.error(e),this.setState({showWebcamDialog:!0,noSnap:!0})}}},{key:"adjustTimerVisibility",value:function(){var e=this.props,t=e.attempt,n=e.setTimerVisibility,i=D.a.get(Object(V.o)(t.id));n("boolean"!=typeof i||i)}},{key:"getTimeLeft",value:function(){return this.props.sections.currentSectionTimeLeft}},{key:"renderCamPermissionDialog",value:function(){var e=this.state,t=e.noSnap,n=e.showWebcamDialog,i=e.noCamFeed;if(!n)return null;var r=this.props.webcamContext;return a.a.createElement(P.a,{webcamContext:r,onCameraFound:this.reattachCamera,noCamFeed:i,noSnap:t})}},{key:"renderWebcamNode",value:function(){return this.props.continuousImageProctoring?a.a.createElement(i.Fragment,null,a.a.createElement("div",{className:"webcam-node",ref:this.webcamRef}),this.renderCamPermissionDialog()):null}},{key:"renderPhotoVerificationModal",value:function(){var e=this.props,t=e.attempt.identityVerificationDone,n=e.arrivedFromLogin,i=e.singleImageProctoring,r=e.webcamContext;return i&&!t&&n?a.a.createElement(G,{webcamContext:r}):null}},{key:"render",value:function(){return a.a.createElement(i.Fragment,null,this.renderWebcamNode(),this.renderPhotoVerificationModal(),this.props.children)}}]),n}(a.a.PureComponent),we=Object(o.a)(Object(r.connect)((function(e){var t=e.candidate,n=t.attempt,i=t.sections,a=e.user.arrivedFromLogin,r=e.test;return{attempt:n,sections:i,arrivedFromLogin:a,proctorInterval:r.proctorInterval,enableClientProctoringUpload:r.enableClientProctoringUpload}}),(function(e){return{setTimerVisibility:function(t){return e(Object(M.setTimerVisibility)(t))}}})),Object(s.c)(["common"]),Object(z.a)("TestCoundown should be used inside WebcamWrapper",j.a,"webcamContext"),c.a)(Se),Oe=(n("pIFo"),n("rvZc"),n("2Spj"),n("Wwog")),Ie=n("f0wr"),ke=n("ovno"),Ce=n("g+WX"),Ee=n("GEYT"),_e=n.n(Ee),De=n("rVpR"),je=n("pVnL"),Pe=n.n(je),Le=n("QILm"),Ne=n.n(Le);function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=I()(e);if(t){var a=I()(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return w()(this,n)}}var Re=function(e){T()(n,e);var t=xe(n);function n(){var e;p()(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a)),C()(b()(e),"state",{show:!0}),C()(b()(e),"timeoutID",null),C()(b()(e),"onTimeout",(function(){e.setState({show:!1}),e.props.onTimeout()})),e}return v()(n,[{key:"componentDidMount",value:function(){var e=this.props.timeout;this.timeoutID=setTimeout(this.onTimeout,1e3*e)}},{key:"componentWillUnmount",value:function(){this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)}},{key:"render",value:function(){if(!this.state.show)return null;var e=this.props,t=(e.timeout,e.onTimeout),n=e.children,i=Ne()(e,["timeout","onTimeout","children"]);return a.a.createElement(ke.a,Pe()({},i,{onConfirm:t}),n)}}]),n}(i.PureComponent);C()(Re,"defaultProps",{onTimeout:q.a});var Ue=n("WfZi"),qe=n("KLSP"),We=n("QgMK"),Ae=n("bfiW");n("98k/");function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=I()(e);if(t){var a=I()(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return w()(this,n)}}var Me=function(e){T()(n,e);var t=Fe(n);function n(e){var i;return p()(this,n),i=t.call(this,e),C()(b()(i),"saveAnswerErrorToast",void 0),C()(b()(i),"currentTimeLeft",void 0),C()(b()(i),"prevQuestionRouteId",""),C()(b()(i),"isPageHidden",!1),C()(b()(i),"state",{saveLastChanges:!1,savingCurrentQuestion:!1,showSectionCloseDialog:!1,showLogoutConfirmationDialog:!1,showStateChangeDialog:!1,logoutInProgress:!1,showTestEndDialog:!1,showBlockUserActionsDialog:!1,showPageVisibilityHiddenAlert:!1}),C()(b()(i),"firstLoad",!0),C()(b()(i),"informOnFocus",!1),C()(b()(i),"fastPingStarted",!1),C()(b()(i),"currentQuestionData",null),C()(b()(i),"pingIntervalID",null),C()(b()(i),"focusTimoutID",null),C()(b()(i),"activityLogger",void 0),C()(b()(i),"getContextValueMemoized",Object(Oe.a)(i.getContextValue.bind(b()(i)))),C()(b()(i),"onErrorCallback",(function(e){if(e.resStatus===Ae.g.UNAUTHORIZED){var t,n=e.originalResponse;return n&&n.body&&(t=n.body.internal_error_code),void i.setState({showBlockUserActionsDialog:!0,internalErrorCode:t})}})),C()(b()(i),"handleCountdown",(function(e){var t=e.currentTimeLeft,n=i.currentTimeLeft;i.currentTimeLeft=t,0!==t||n===t?i.startPing(t):i.refreshAttemptState()})),C()(b()(i),"updateSavingState",(function(e){var t=i.props,n=t.t,a=t.attemptId;if(e.model&&e.model.id!==a){var r={type:"error_strong",message:n("questionview:save_answer_error"),duration:0,closable:!1};i.saveAnswerErrorToast?i.saveAnswerErrorToast.update():(i.saveAnswerErrorToast=new Ie.a(r),i.saveAnswerErrorToast.show())}i.state.savingCurrentQuestion&&i.setState({savingCurrentQuestion:!1})})),C()(b()(i),"onVisibilityChange",(function(){if(document.visibilityState!==Ae.b.HIDDEN)i.isPageHidden=!1,i.props.monitorWindowActivity&&i.activityLogger(qe.a.FOCUS);else{i.isPageHidden=!0;var e=D.a.get(Object(V.k)(i.props.attemptId));i.props.monitorWindowActivity&&(e||i.setState({showPageVisibilityHiddenAlert:!0}),i.activityLogger(qe.a.BLUR))}})),C()(b()(i),"onWindowFocus",(function(){i.informOnFocus&&i.setState({showStateChangeDialog:!0}),i.informOnFocus=!1})),C()(b()(i),"confirmAndEndTest",i.updateDialog.bind(b()(i),"showLogoutConfirmationDialog",!0)),C()(b()(i),"handleForcedLogout",i.logoutFromTest.bind(b()(i),!0)),C()(b()(i),"handleLogoutCancel",i.updateDialog.bind(b()(i),"showLogoutConfirmationDialog",!1)),C()(b()(i),"handleLogoutConfirm",i.logoutFromTest.bind(b()(i),!1)),C()(b()(i),"handleTestStateUpdate",i.refreshTestState.bind(b()(i))),C()(b()(i),"handleSectionCloseConfirm",(function(){i.informOnFocus=!1,i.setState({showSectionCloseDialog:!1,showStateChangeDialog:!1}),i.clearPingInterval(),i.redirectToQuestionListing()})),C()(b()(i),"handleLastChangeCheck",(function(e){i.setState({saveLastChanges:e.target.checked})})),C()(b()(i),"cancelLogger",(function(e){switch(e){case ge.i:i.focusTimoutID&&(clearTimeout(i.focusTimoutID),i.focusTimoutID=null)}})),C()(b()(i),"onQuestionListMount",(function(){var e=i.props.currentSection,t=i.prevQuestionRouteId?"question-".concat(i.prevQuestionRouteId):"section-".concat(e),n=document.getElementById(t);_e()(n,ge.s)})),C()(b()(i),"setCurrentQuestionData",(function(e){i.currentQuestionData=e})),C()(b()(i),"getErrorInfo",(function(){var e,t,n=i.state.internalErrorCode,a=i.props.t;switch(n){case Ae.h.ATTEMPT_DELETED:e=a("deletedAttempt.title"),t=a("deletedAttempt.content");break;default:e=a("unauthorized_login.title"),t=a("unauthorized_login.content")}return{title:e,content:t}})),C()(b()(i),"onConfirmPageVisibilityAlert",(function(){i.setState({showPageVisibilityHiddenAlert:!1}),D.a.set(Object(V.k)(i.props.attemptId),!0)})),i.currentTimeLeft=e.currentTimeLeft,i}return v()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.attemptId,n=e.appUtil;this.activityLogger=Object(qe.b)(t),this.handleRouteChange(n),document.addEventListener("visibilitychange",this.onVisibilityChange),window.addEventListener("focus",this.onWindowFocus),Z.d.on(ge.h.COUNTDOWN,this.handleCountdown),Object(re.j)(this.onErrorCallback)}},{key:"componentDidUpdate",value:function(e,t){var n=e.currentSection,i=e.appUtil,a=this.currentTimeLeft,r=this.props,o=r.attemptTimeLeft,s=r.attemptDone,c=r.currentSection,u=r.appUtil,l=r.currentSectionItems,m=u.params.questionId,d=t.logoutInProgress,h=t.showSectionCloseDialog,p=this.state,f=p.showSectionCloseDialog,v=p.showTestEndDialog,g=p.logoutInProgress;if((!f&&h||c!==n)&&this.scrollToSection(c),this.handleRouteChange(u,i),!(g||d||f||v))if(this.checkWindowActivity(this.props,e),Object(Z.l)(s,o))this.updateDialog("showTestEndDialog",!0);else if(c!==n){if(!a)return void this.updateDialog("showSectionCloseDialog",!0);if(-1!==c&&m)if(!l[c-1].questionList.includes(m))return void this.updateDialog("showSectionCloseDialog",!0)}}},{key:"componentWillUnmount",value:function(){this.clearPingInterval(),document.removeEventListener("visibilitychange",this.onVisibilityChange),window.removeEventListener(ge.l,this.onWindowFocus),Z.d.off(ge.h.COUNTDOWN,this.handleCountdown),Object(re.i)(this.onErrorCallback)}},{key:"scrollToSection",value:function(e){this.prevQuestionRouteId=void 0;var t=document.getElementById("section-".concat(e));_e()(t,ge.s)}},{key:"handleRouteChange",value:function(e,t){var n,i,a=e.params,r=e.location.pathname;t&&(n=t.params.questionId,i=t.location.pathname);var o=a.questionId;if(o&&o!==n)return this.prevQuestionRouteId=o,void this.activityLogger(qe.a.QUESTION_VIEW,{questionId:o});if(r.endsWith("/questions")&&r!==i){var s=this.props.loadTest;this.activityLogger(qe.a.QUESTION_LIST_VIEW),t&&s(a.testId)}}},{key:"checkWindowActivity",value:function(e,t){var n=e.attemptDone,i=e.currentSection,a=t.attemptDone,r=t.currentSection;!this.isPageHidden||n===a&&i===r||(this.informOnFocus=!0)}},{key:"refreshAttemptState",value:function(){var e=this.props,t=e.loadTest,n=e.appUtil.params.testId;this.fastPingStarted=!1,this.clearPingInterval(),t(n)}},{key:"startPing",value:function(e){if(e<H.g&&!this.fastPingStarted)this.startFastPing();else if(!this.pingIntervalID){var t=this.props.longPingInterval;this.startPingWith(t)}}},{key:"startPingWith",value:function(e){var t=this;this.pingIntervalID=setInterval((function(){t.saveAttemptState()}),1e3*e)}},{key:"startFastPing",value:function(){var e=this.props.fastPingInterval;this.fastPingStarted=!0,this.clearPingInterval(),this.startPingWith(e)}},{key:"updateDialog",value:function(e,t){this.setState(C()({},e,t))}},{key:"saveAttemptState",value:function(){var e=this.props,t=e.attemptId,n=e.candidateFrontendMessage,i=e.saveAttemptState,a=e.appUtil.params.questionId,r=e.attemptDone;if(!this.state.showBlockUserActionsDialog&&!r){var o=window.localStorage.jStorage,s=C()({pong:!0,storageSize:o?o.length:0},"clear-candidate-message",!1);if(a&&(s.to_save_code=this.currentQuestionData,s.qid=a,this.setState({savingCurrentQuestion:!0})),this.firstLoad&&n){var c="c-msg-".concat(n);!!D.a.get(c)&&(s["clear-candidate-message"]=!0,D.a.set(c,void 0))}return this.firstLoad=!1,i(t,{data:s}).then(this.updateSavingState,this.updateSavingState)}}},{key:"redirectToQuestionListing",value:function(){var e=this.props.appUtil,t=e.router,n=e.params;this.updateDialog("showSectionCloseDialog",!1);var i="/".concat(n.testId,"/questions");t.replace(Object(We.c)(i))}},{key:"refresh",value:function(){window.location.reload()}},{key:"logoutFromTest",value:function(e){var t=this.state,n=t.savingCurrentQuestion,i=t.saveLastChanges,a=this.props,r=a.endTest,o=a.appUtil,s=o.params,c=s.questionId,u=s.testId,l=o.router,m=a.supportsTheming,d=a.theme,h=a.t,p=a.isSampleTest,f=this.state.showLogoutConfirmationDialog,v=this.getContextValueMemoized(n,this.activityLogger,c,f).pageEventCategory,g=ce.c.EndTestWithNoDarkModeSupport;m&&(g=Object(De.e)(d)?ce.c.EndTestWithLightMode:ce.c.EndTestWithDarkMode),this.setState({logoutInProgress:!0});var b={};b.how=e?"forced":"userclick",c&&(b.currentQuestion=c),i&&(b.submit_last=i),Object(oe.c)(b.how,g,{attribute1:v}),Object(oe.b)({category:v,label:g}),r(u,b).then((function(){p&&window.opener?window.close():l.replace(Object(We.c)("/".concat(u,"/feedback")))})).catch((function(){new Ie.a({type:"error_strong",message:h("testdone.logoutError"),duration:10,onClose:function(){return window.location.reload()}}).show()}))}},{key:"refreshTestState",value:function(){var e=this.props,t=e.appUtil.params.testId,n=e.loadTest;this.updateDialog("showStateChangeDialog",!1),n(t)}},{key:"clearPingInterval",value:function(){this.pingIntervalID&&(clearInterval(this.pingIntervalID),this.pingIntervalID=null)}},{key:"startActivityTimer",value:function(e){var t=this;return setTimeout((function(){t.activityLogger(e,void 0,n.LOG_DELAY_TIME)}),n.LOG_DELAY_TIME)}},{key:"getContextValue",value:function(e,t,n,i){return{endTest:this.confirmAndEndTest,setQuestionData:this.setCurrentQuestionData,onQuestionListMount:this.onQuestionListMount,cancelLogger:this.cancelLogger,pageEventCategory:n?ce.b.QuestionDetailsPage:ce.b.QuestionListingPage,savingCurrentQuestion:e,activityLogger:t,showLogoutConfirmationDialog:i}}},{key:"renderSectionCloseDialog",value:function(){var e=this.props.t;return a.a.createElement(Re,{open:!0,size:"small",title:e("sections.closedTitle"),cancelText:"",confirmText:e("ok"),timeout:H.v,onTimeout:this.handleSectionCloseConfirm},a.a.createElement("div",{role:"document"},e("sections.closedMessage")))}},{key:"renderStateChangeDialog",value:function(){var e=this.state,t=e.showTestEndDialog,n=e.showStateChangeDialog,i=e.showSectionCloseDialog;if(t||i||!n)return null;var r=this.props.t;return a.a.createElement(Re,{open:!0,size:"small",title:r("teststate.title"),cancelText:"",confirmText:r("ok"),timeout:H.v,onTimeout:this.handleTestStateUpdate},a.a.createElement("div",{role:"document"},r("teststate.message")))}},{key:"renderLogoutConfirmationDialog",value:function(){var e=this.props.t,t=this.state.logoutInProgress;return a.a.createElement(ke.a,{title:e("testdone.confirm.title"),open:!0,size:"small",cancelText:e("testdone.confirm.cancelText"),confirmText:e("testdone.confirm.confirmText"),cancelBtnProps:ge.c,confirmBtnProps:ge.e,onClose:this.handleLogoutCancel,onCancel:this.handleLogoutCancel,onConfirm:this.handleLogoutConfirm,inProgress:t},a.a.createElement("div",{role:"document"},e("testdone.confirm.message")))}},{key:"renderTestEndDialog",value:function(){var e=this.state,t=e.logoutInProgress,n=e.saveLastChanges,i=this.props,r=i.t,o=i.submittable;return a.a.createElement(Re,{open:!0,size:"small",title:r("testend.title"),cancelText:"",confirmText:r("proceed"),timeout:H.u,inProgress:t,onTimeout:this.handleForcedLogout},a.a.createElement("div",{role:"document"},r("testend.message"),o&&a.a.createElement("p",null,r("testend.submittableMessage"),a.a.createElement(Ce.a,{label:r("testend.submittableConfirmMessage"),checked:n,onChange:this.handleLastChangeCheck}))))}},{key:"renderBlockUserActionsDialog",value:function(){var e=this.props.t,t=this.getErrorInfo();return a.a.createElement(ke.a,{open:!0,size:"small",title:t.title,"data-automation":"unauthorized-login",cancelText:"",confirmText:e("proceed"),onConfirm:this.refresh},a.a.createElement("div",{role:"document"},t.content))}},{key:"renderPageVisibilityHiddenDialog",value:function(){var e=this.props.t;return a.a.createElement(A.a,{open:!0,theme:"theme-m",size:"small",title:a.a.createElement("div",{className:"d-flex align-items-center"},a.a.createElement(F.AlertTriangleIcon,{className:"text-color-warning ui-dialog-title__icon"}),a.a.createElement("span",null,e("common:label.caution"))),modalClass:"page-visibility-hidden-dialog"},a.a.createElement(s.b,{i18nKey:"testview:page_visibility_hidden.message"},"We noticed that you moved out of the test. The ",a.a.createElement("strong",null,"hiring team is tracking")," ","this activity. We recommend staying on this page until you complete the test."),a.a.createElement("div",{className:"page-visibility-hidden-dialog__buttons"},a.a.createElement(W.c,{onClick:this.onConfirmPageVisibilityAlert},e("testview:page_visibility_hidden.confirm"))))}},{key:"render",value:function(){var e=this.state,t=e.showSectionCloseDialog,n=e.showLogoutConfirmationDialog,i=e.showTestEndDialog,r=e.savingCurrentQuestion,o=e.showBlockUserActionsDialog,s=e.showPageVisibilityHiddenAlert,c=this.props.appUtil.params.questionId;return a.a.createElement(Ue.b,{value:this.getContextValueMemoized(r,this.activityLogger,c,n)},a.a.createElement(a.a.Fragment,null,this.props.children,t&&this.renderSectionCloseDialog(),n&&this.renderLogoutConfirmationDialog(),this.renderStateChangeDialog(),i&&this.renderTestEndDialog(),o&&this.renderBlockUserActionsDialog(),s&&this.renderPageVisibilityHiddenDialog()))}}]),n}(i.PureComponent);C()(Me,"LOG_DELAY_TIME",2e3);var Ve=Object(o.a)(Object(r.connect)((function(e){var t=e.candidate,n=t.sections,i=n.currentSectionTimeLeft,a=n.currentSection,r=n.items,o=t.attempt,s=e.test,c=s.longPingInterval,u=s.monitorWindowActivity,l=s.isSampleTest,m=s.fastPingInterval,d=s.supportsTheming,h=e.user.theme;return{attemptId:o.id,attemptDone:o.done,currentSection:a,currentTimeLeft:i,attemptTimeLeft:o.timeLeft,submittable:o.submittable,longPingInterval:c,monitorWindowActivity:u,theme:h,isSampleTest:l,currentSectionItems:r,fastPingInterval:m,supportsTheming:d}}),(function(e){return{saveAttemptState:function(t,n){return e(Object(M.saveAttemptState)(t,n))},endTest:function(t,n){return e(Object(M.endTest)(t,n))},loadTest:function(t){return e(Object(M.loadTest)(t))}}})),Object(s.c)(["testview","questionview"]),c.a)(Me),Qe=n("bSd7"),He=n("UE0f");function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=I()(e);if(t){var a=I()(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return w()(this,n)}}var Be=function(e){T()(n,e);var t=Ke(n);function n(e){var i;p()(this,n),i=t.call(this,e),C()(b()(i),"inactiveTimeStart",void 0),C()(b()(i),"inactiveTimeEnd",void 0),C()(b()(i),"cumulativeInactivityTime",void 0),C()(b()(i),"lastResetTime",void 0),C()(b()(i),"inactivityIntervalId",void 0),C()(b()(i),"inactiveTimeKey",void 0),C()(b()(i),"attemptId",void 0),C()(b()(i),"questionId",void 0),C()(b()(i),"memoizedGetValue",void 0),C()(b()(i),"startTrackingInactivity",(function(){var e=Date.now();i.inactiveTimeStart?i.inactiveTimeEnd?(i.cumulativeInactivityTime+=i.getTimeInSeconds(i.inactiveTimeEnd-i.inactiveTimeStart),i.trackIfThresholdExceeded(e),i.inactiveTimeEnd=null,i.inactiveTimeStart=null,i.cleanUp(),i.restartInactivityTimerIfNeeded(e),i.setUpTracking()):i.trackIfThresholdExceeded(e):i.restartInactivityTimerIfNeeded(e)})),C()(b()(i),"startInactivityTimer",(function(){i.inactiveTimeStart=Date.now()})),C()(b()(i),"resetInactivityTimer",(function(){i.lastResetTime=Date.now(),i.inactiveTimeStart&&(i.inactiveTimeEnd=i.lastResetTime)}));var a=i.props,r=a.attemptId,o=a.questionId;return i.attemptId=r,i.questionId=o,i.updateStorageKey(),i.cumulativeInactivityTime=0,i.memoizedGetValue=Object(Oe.a)(i.getValue.bind(b()(i))),i}return v()(n,[{key:"componentDidMount",value:function(){this.trackInactivityIfSupported()}},{key:"componentDidUpdate",value:function(e){var t=this.props.questionId,n=e.questionId;if(n!==t){var i=Date.now();n&&this.cleanUpOldQuestion(n,i),t&&this.setUpNewQuestion(t)}}},{key:"componentWillUnmount",value:function(){var e=Date.now(),t=this.props.questionId;t&&this.cleanUpOldQuestion(t,e)}},{key:"cleanUpOldQuestion",value:function(e,t){this.trackRemainingInactivity(e,t),this.cleanUp()}},{key:"setUpNewQuestion",value:function(e){this.questionId=e,this.updateStorageKey(),this.trackInactivityIfSupported()}},{key:"updateStorageKey",value:function(){this.questionId?this.inactiveTimeKey=Object(V.j)(this.attemptId,this.questionId):this.inactiveTimeKey=null}},{key:"trackInactivityIfSupported",value:function(){if(this.shouldTrackInactivity()){var e=D.a.get(this.inactiveTimeKey);this.cumulativeInactivityTime=e||0,this.setUpTracking()}}},{key:"cleanUp",value:function(){this.inactivityIntervalId&&(clearInterval(this.inactivityIntervalId),this.inactivityIntervalId=null)}},{key:"trackRemainingInactivity",value:function(e,t){var n=0;this.inactiveTimeStart&&(n=this.getTimeInSeconds(t-this.inactiveTimeStart));var i=this.cumulativeInactivityTime+n;i>0&&Object(M.trackInactivity)(this.attemptId,e,i),this.inactiveTimeStart=null,this.inactiveTimeEnd=null,this.lastResetTime=null,this.cumulativeInactivityTime=0,D.a.set(this.inactiveTimeKey,0)}},{key:"shouldTrackInactivity",value:function(){var e=this.props,t=e.enableCandidateInactivity,n=e.questionType;return!(!t||!Qe.i.includes(n))}},{key:"trackIfThresholdExceeded",value:function(e){if(this.inactiveTimeStart&&this.questionId)if(this.inactiveTimeEnd)this.cumulativeInactivityTime>=H.i&&(Object(M.trackInactivity)(this.attemptId,this.questionId,this.cumulativeInactivityTime),this.cumulativeInactivityTime=0),D.a.set(this.inactiveTimeKey,this.cumulativeInactivityTime);else{var t=this.getTimeInSeconds(e-this.inactiveTimeStart),n=this.cumulativeInactivityTime+t;D.a.set(this.inactiveTimeKey,n),n>=H.i&&(Object(M.trackInactivity)(this.attemptId,this.questionId,n),this.cumulativeInactivityTime=0),(n>=H.i||t>H.i)&&(this.restartInactivityTimerIfNeeded(e),D.a.set(this.inactiveTimeKey,0))}}},{key:"restartInactivityTimerIfNeeded",value:function(e){this.lastResetTime&&(this.getTimeInSeconds(e-this.lastResetTime)>=H.h&&this.startInactivityTimer())}},{key:"setUpTracking",value:function(){this.inactivityIntervalId=setInterval(this.startTrackingInactivity,1e3*H.h)}},{key:"getValue",value:function(){return{resetInactivityTimer:this.resetInactivityTimer}}},{key:"getTimeInSeconds",value:function(e){return Math.round(e/1e3)}},{key:"render",value:function(){var e=this.props.children;return a.a.createElement(He.b,{value:this.memoizedGetValue()},e)}}]),n}(i.PureComponent),Ge=n("vsS5"),ze=n("i0Ue"),Ye=(n("dZ+Y"),n("DNiP"),n("Dept")),Ze=n("61np"),Xe=n("iiin"),Je=n("57B8"),$e=n("L/GN"),et=n("MGin"),tt=n("e6Ar");n("PsKZ");var nt=Object(o.a)(Object(s.c)(["testview"]),c.a,Object(z.a)("UserInfo can only be used inside TestLifecycle scope",Ue.a,"lifeCycleContext"))((function(e){var t=e.fullName,n=e.isCompetitionTest,i=e.currentCompetition,r=e.appUtil.params,o=e.t,s=e.lifeCycleContext,c=s.endTest,u=s.pageEventCategory;return a.a.createElement("div",{className:"d-flex userinfo"},a.a.createElement(tt.a,Pe()({title:a.a.createElement(a.a.Fragment,null,a.a.createElement("i",{className:"ui-icon-user userinfo__icon"}),a.a.createElement("span",null,t),a.a.createElement("i",{className:"ui-icon-arrow-down-filled userinfo__icon"})),handleElement:W.b,className:"userinfo__handle userinfo__name","aria-label":o("user.account"),menuClassName:"userinfo__options",selectedValue:"instructions",direction:"down",as:"menu"},Object(oe.a)({category:u,action:ce.a.Click,label:ce.c.ProfileSettings})),a.a.createElement(tt.a.Item,{className:"userinfo__option-wrapper",clickableSelector:".userinfo__link",value:"instructions"},a.a.createElement(et.Link,Pe()({className:"d-flex userinfo__option userinfo__link",to:Object(We.c)("/".concat(r.testId,"/instructions"))},Object(oe.a)({category:u,action:ce.a.Click,label:ce.c.InstructionsSettings})),o("instructions.label"))),n&&i?a.a.createElement(tt.a.Item,{className:"userinfo__option-wrapper",clickableSelector:".userinfo__link"},a.a.createElement(et.Link,{to:"/competitions/".concat(i.slug),className:"d-flex userinfo__option userinfo__link userinfo__landing-page-link"},o("backToLandingPage"))):a.a.createElement(tt.a.Item,{className:"userinfo__option-wrapper",clickableSelector:".userinfo__logout-btn"},a.a.createElement(W.b,Pe()({className:"d-flex userinfo__option userinfo__logout-btn",onClick:c},Object(oe.a)({category:u,action:ce.a.Click,label:ce.c.SubmitAndLogOutSettings})),o("submitTest")))))})),it=n("Td56");n("1aeH");function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=I()(e);if(t){var a=I()(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return w()(this,n)}}var rt=function(e){T()(n,e);var t=at(n);function n(e){var i;p()(this,n),i=t.call(this,e),C()(b()(i),"handleCountdown",(function(e){i.setState(e)})),C()(b()(i),"toggleTimer",(function(){var e=i.props,t=e.attemptId;(0,e.toggleTimer)(t)})),C()(b()(i),"toggleTheme",(function(){var e=i.props,t=e.lifeCycleContext.pageEventCategory,n=e.test.supportsTheming,a=e.user.theme,r=e.setUserTheme,o=Object(De.e)(a)?Ae.n.DARK:Ae.n.LIGHT;r(o),Object(De.f)(o,n),Object(oe.c)(ce.a.Click,Object(De.c)(n,a),{attribute1:t})}));var a=e.currentTimeLeft;return i.state={showTimeInfo:!1,currentTimeLeft:a,approxTimeString:"",bypassTimerHide:!1,fullTimeString:""},i}return v()(n,[{key:"componentDidMount",value:function(){this.setState({showTimeInfo:!0}),Z.d.on(ge.h.COUNTDOWN,this.handleCountdown)}},{key:"componentWillUnmount",value:function(){Z.d.off(ge.h.COUNTDOWN,this.handleCountdown)}},{key:"renderRemainingTime",value:function(){if(!this.state.showTimeInfo)return null;var e=this.props,t=e.t,n=e.currentSection,i=e.notifyTimerState,r=this.state,o=r.currentTimeLeft,s=r.approxTimeString,c=r.timerStringForScreenReader,u=i===H.r.BLINK,l=Object(it.c)(n)?"testend.sectionDone":"testend.done";return o<=0?a.a.createElement("div",{className:"main-header__test-time"},a.a.createElement("span",{className:"main-header__info-text"},t(l))):a.a.createElement("div",{className:"d-flex align-items-center main-header__test-time"},a.a.createElement(F.TimeIcon,null),a.a.createElement("div",{role:"timer",className:N()("main-header__timer bold",i)},s),u&&a.a.createElement($e.a,{message:c}))}},{key:"renderThemeSwitch",value:function(){var e=this.props,t=e.lifeCycleContext.pageEventCategory,n=e.test.supportsTheming,i=e.user.theme,r=e.t;if(!n)return null;var o=i===Ae.n.LIGHT,s=r(o?"questionview:actions.switch_theme.dark":"questionview:actions.switch_theme.light");return a.a.createElement("div",{className:"main-header__theme-switch"},a.a.createElement(Ze.a,{content:s,align:"bottom"},a.a.createElement(Xe.a,Pe()({btnText:s,className:"main-header__theme-switch__button",Icon:o?F.MoonIcon:F.SunIcon,onClick:this.toggleTheme,tooltip:!0},Object(oe.a)({category:t,action:ce.a.Click,label:Object(De.c)(n,i)})))))}},{key:"renderTestName",value:function(){var e=this.props.test,t=Object(We.c)("/".concat(e.uniqueId,"/questions"));return a.a.createElement("div",{className:"d-flex align-items-center"},a.a.createElement("div",{className:"justify-content-center"},a.a.createElement("a",{className:"d-flex main-header__logo-link",href:t},a.a.createElement(Je.a,{className:"main-header__logo",logoUrl:e.logo,alt:e.name}))),a.a.createElement("h1",{className:"main-header__title"},e.name))}},{key:"renderAttemptedQuestions",value:function(){var e=this.props,t=e.totalSubmissions,n=e.totalQuestions,i=e.t;return a.a.createElement("div",{className:"main-header__test-attempts"},i("questions.attempted")," ",a.a.createElement("strong",{className:"main-header__info-text"},t," / ",n))}},{key:"renderUserInfo",value:function(){var e=this.props,t=e.user,n=t.fullName,i=t.email,r=e.currentCompetition,o=e.test;return a.a.createElement(nt,{email:i,fullName:n,isCompetitionTest:o.isCompetitionTest,currentCompetition:r})}},{key:"renderLowWidthLayout",value:function(){return a.a.createElement("nav",{className:"d-flex flex-column main-header__nav"},a.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},this.renderTestName(),this.renderUserInfo()),a.a.createElement("div",{className:"d-flex align-items-center main-header__test"},a.a.createElement("div",{className:"d-flex align-items-center justify-content-between main-header__test-info"},a.a.createElement("div",{className:"d-flex align-items-center"},this.renderRemainingTime(),this.renderThemeSwitch()),this.renderAttemptedQuestions())))}},{key:"renderNormalLayout",value:function(){return a.a.createElement("nav",{className:"d-flex align-items-center main-header__nav"},this.renderTestName(),a.a.createElement("div",{className:"d-flex align-items-center justify-content-end main-header__test"},a.a.createElement("div",{className:"d-flex align-items-center main-header__test-info"},this.renderAttemptedQuestions(),this.renderRemainingTime(),this.renderThemeSwitch())),this.renderUserInfo())}},{key:"render",value:function(){var e=this.props.breakpoints[ze.a.BEYOND_ZOOM_150];return a.a.createElement("header",{className:N()("d-flex flex-column main-header",{"low-width-layout":e})},e?this.renderLowWidthLayout():this.renderNormalLayout())}}]),n}(i.PureComponent);C()(rt,"defaultProps",{showTimer:!0});var ot=Object(o.a)(Object(r.connect)((function(e){var t=e.test,n=e.user,i=e.candidate,a=i.attempt,r=i.sections,o=i.questions;return{test:t,currentCompetition:e.currentCompetition,user:n,totalQuestions:o.ids.length,totalSubmissions:Object.keys(o.submissions).length,currentSection:r.currentSection,currentTimeLeft:r.currentSectionTimeLeft,attemptId:a.id}}),(function(e){return{toggleTimer:function(t){return e(Object(M.toggleTimer)(t))},setUserTheme:function(t){return e(Object(M.setUserTheme)(t))}}})),Object(s.c)(["testview","questionview"]),Object(z.a)("Header can only be used inside TestLifecycle scope",Ue.a,"lifeCycleContext"),Object(z.a)("Header should be used inside WindowWidthWrapper",ze.b,"breakpoints"))(rt),st=(n("bWfx"),n("Ly5m"));n("6w5V");function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=I()(e);if(t){var a=I()(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return w()(this,n)}}var lt=function(e){T()(n,e);var t=ut(n);function n(e){var i;p()(this,n),i=t.call(this,e),C()(b()(i),"questionRefs",void 0),C()(b()(i),"handleCountdown",(function(e){i.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))})),C()(b()(i),"toggleTimer",(function(){if(!i.state.bypassTimerHide){var e=i.props,t=e.attemptId,n=e.toggleTimer;i.setState({hovered:!1}),n(t)}})),C()(b()(i),"onTimerMouseOver",(function(){i.state.hovered||i.setState({hovered:!0})})),C()(b()(i),"onTimerMouseOut",(function(){i.setState({hovered:!1})}));var r=e.questions,o=e.sections.currentSectionTimeLeft;return i.questionRefs=r.ids.reduce((function(e,t){return e[t]=a.a.createRef(),e}),{}),i.state={hovered:!1,showTimeInfo:!1,bypassTimerHide:!1,shorterTimeString:"",fullTimeString:"",currentTimeLeft:o},i}return v()(n,[{key:"componentDidMount",value:function(){Z.d.on(ge.h.COUNTDOWN,this.handleCountdown),this.setState({showTimeInfo:!0}),this.scrollQuestionInView()}},{key:"componentDidUpdate",value:function(e){var t=e.appUtil.params.questionId;this.props.appUtil.params.questionId!==t&&this.scrollQuestionInView()}},{key:"componentWillUnmount",value:function(){Z.d.off(ge.h.COUNTDOWN,this.handleCountdown)}},{key:"scrollQuestionInView",value:function(){var e=this.props.appUtil.params.questionId,t=this.questionRefs[e];t&&t.current&&_e.a(t.current,{time:0,align:{top:.5}})}},{key:"renderTabItem",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.props,r=i.testId,o=i.t,s=i.questions,c=s.ids,u=s.submissions,l=s.disabledQuestionMap,m=this.questionRefs,d=c.slice(e,t);return d.map((function(t,i){var s=!!u[t],c=n||l[t],d=N()("d-flex align-items-center justify-content-center question-tab__list-item",{"question-tab__list-item--answered":s,"question-tab__list-item--disabled":c}),h=e+i+1,p=o(s?"questions.modifySubmissionAria":"questions.solveQuestionAria",{index:h});return c?a.a.createElement(Ze.a,{content:p,align:"right","data-automation":"question-tab-item-tooltip"},a.a.createElement("li",{key:t,ref:m[t],className:d},h)):a.a.createElement("li",{className:"d-flex align-items-center justify-content-center question-tab__list-item-wrapper",key:t,ref:m[t]},a.a.createElement(Ze.a,{content:p,align:"right","data-automation":"question-tab-item-tooltip"},a.a.createElement(et.Link,{className:d,activeClassName:"question-tab__list-item--active",to:Object(We.c)("/".concat(r,"/questions/").concat(t))},h)))}))}},{key:"renderSectionTabItems",value:function(){var e=this,t=this.props.sections,n=0;return t.items.map((function(r,o){var s=r.questions,c=n,u=n+s,l=e.renderTabItem(c,u,Object(it.b)(o+1,t));return n+=s,a.a.createElement(i.Fragment,{key:o},l,a.a.createElement("li",{className:"question-tab__separator"}))}))}},{key:"renderQuestionTabItems",value:function(){var e=this.props.questions;return this.renderTabItem(0,e.ids.length)}},{key:"renderTabItems",value:function(){return this.props.sections.items.length?this.renderSectionTabItems():this.renderQuestionTabItems()}},{key:"renderTimer",value:function(){var e=this.state,t=e.hovered,n=e.showTimeInfo,r=e.currentTimeLeft,o=e.shorterTimeString,s=e.bypassTimerHide,c=e.timerStringForScreenReader;if(!n)return null;var u,l=this.props,m=l.sections.currentSection,d=l.t,h=l.showTimer,p=l.notifyTimerState,f=Object(it.c)(m);u=r<=0?d(f?"testend.sectionDone":"testend.done"):s?d("timer.withLabel",{timeLeft:o}):h?t?d("timer.hideTimer"):d("timer.withLabel",{timeLeft:o}):d("timer.show");var v=p===H.r.BLINK;return a.a.createElement(i.Fragment,null,a.a.createElement(W.b,{className:N()("question-tab__list-item question-tab__timer-toggle-btn",p),onClick:this.toggleTimer,onMouseOver:this.onTimerMouseOver,onMouseOut:this.onTimerMouseOut,onFocus:this.onTimerMouseOver,onBlur:this.onTimerMouseOut},u),v&&a.a.createElement($e.a,{message:c}))}},{key:"render",value:function(){var e=this.props,t=e.testId,n=e.showTimerTab,i=e.t,r=e.keyboardShortcutsContext.toggleShortcutsDialog,o=e.breakpoints[ze.a.BEYOND_ZOOM_250],s=this.state.fullTimeString;return a.a.createElement("div",{className:N()("d-flex question-tab",{"question-tab__list--scrollable":o})},a.a.createElement("ul",{className:"question-tab__list"},n&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Ze.a,{content:i("timer.withLabel",{timeLeft:s}),align:"right"},a.a.createElement("li",{className:"d-flex flex-column align-items-center justify-content-center question-tab__timer"},this.renderTimer()))),a.a.createElement("li",{className:"d-flex align-items-center justify-content-center question-tab__list-item-wrapper"},a.a.createElement(Ze.a,{content:i("common:keyboard_shortcuts.title"),align:"right"},a.a.createElement(Xe.a,{Icon:F.CommandKeyIcon,className:"question-tab__list-item question-tab__list-item__shortcut",onClick:r})),a.a.createElement(st.a,null)),a.a.createElement("li",{className:"d-flex align-items-center justify-content-center question-tab__list-item-wrapper"},a.a.createElement(et.Link,{className:"d-flex align-items-center justify-content-center question-tab__list-item",activeClassName:"question-tab__list-item--active",onlyActiveOnIndex:!0,to:Object(We.c)("/".concat(t,"/questions")),title:i("questions.listLabel")},i("common:label.all"))),a.a.createElement("li",{className:"d-flex align-items-center justify-content-center question-tab__list-item-wrapper"},a.a.createElement(Ze.a,{content:i("common:instructions.view"),align:"right"},a.a.createElement(et.Link,{className:"d-flex align-items-center justify-content-center question-tab__list-item",activeClassName:"question-tab__list-item--active",to:Object(We.c)("/".concat(t,"/instructions"))},a.a.createElement("i",{className:"ui-icon-info question-tab__list-item-icon",role:"img",alt:""})))),a.a.createElement("li",{className:"question-tab__separator"})),a.a.createElement("ul",{className:N()("question-tab__list",{"question-tab__list--scrollable":!o})},this.renderTabItems()))}}]),n}(i.PureComponent),mt=Object(r.connect)((function(e){var t=e.candidate,n=t.sections,i=t.questions,a=t.attempt,r=e.test;return{sections:n,questions:i,testId:r.uniqueId,showTimer:r.showTimer,attemptId:a.id}}),(function(e){return{toggleTimer:function(t){return e(Object(M.toggleTimer)(t))}}})),dt=Object(o.a)(mt,Object(z.a)("QuestionTab should be used inside KeyboardShortcutsConsumer",Ye.a,"keyboardShortcutsContext"),Object(s.c)(["testview","common"]),c.a,Object(z.a)("QuestionTab should be used inside WindowWidthWrapper",ze.b,"breakpoints"))(lt),ht=n("mi7e"),pt=n("viIQ");function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=I()(e);if(t){var a=I()(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return w()(this,n)}}var vt=function(e){T()(n,e);var t=ft(n);function n(e){var i;return p()(this,n),i=t.call(this,e),C()(b()(i),"toggle",(function(e){var t=i.props,n=t.lifeCycleContext.pageEventCategory,a=t.setUserTheme,r=t.theme;e.preventDefault(),Object(De.e)(r)?a(Ae.n.DARK):a(Ae.n.LIGHT),Object(oe.c)(ce.a.Shortcut,Object(De.c)(!0,r),{attribute1:n})})),C()(b()(i),"handleSubmitTestKey",(function(e){if(!!!document.querySelector(".introjs-overlay")&&!Object(ht.b)()){var t=i.props.lifeCycleContext,n=t.endTest;t.showLogoutConfirmationDialog||(Object(Z.b)(e),n())}})),C()(b()(i),"handleCountdown",(function(e){var t=e.currentTimeLeft,n=i.props.sections,a=n.sectionTimesLeft,r=n.sectional,o=n.currentSection,s=t,c=null;r&&(s=a.reduce((function(e,t,n){return n===o-1?e+s:e+t}),0)),H.s.BLINK.some((function(e){return s<e&&s>e-5}))?c=H.r.BLINK:s<H.s.STEADY&&(c=H.r.STEADY),i.setState({notifyTimerState:c})})),i.state={notifyTimerState:null,srOnlyNavigationMessage:""},i}return v()(n,[{key:"componentDidMount",value:function(){this.setSrOnlyNavigationMessage();var e=this.props,t=e.keyboardShortcutsContext.addCommand,n=e.supportsTheming,i=e.t;Z.d.on(ge.h.COUNTDOWN,this.handleCountdown),t(["mod","alt","enter"],this.handleSubmitTestKey,{title:Object(Z.i)("submit_test",i),desc:i("submit_test")}),n&&(this.setUpTheme(),t(["alt","shift","d"],this.toggle,{title:Object(Z.i)("switch_theme",i),desc:i("switch_theme")}))}},{key:"componentDidUpdate",value:function(e){var t=e.appUtil.params,n=e.routeName,i=this.props,a=i.theme,r=i.appUtil.params,o=i.routeName,s=i.supportsTheming;t===r&&n===o||this.setSrOnlyNavigationMessage(),s&&e.theme!==a&&this.setUpTheme()}},{key:"componentWillUnmount",value:function(){var e=this.props.keyboardShortcutsContext.removeCommand;Z.d.off(ge.h.COUNTDOWN,this.handleCountdown),e(["alt","shift","d"],this.toggle),e(["mod","alt","enter"],this.handleSubmitTestKey),Object(De.g)(Ae.n.LIGHT)}},{key:"setSrOnlyNavigationMessage",value:function(){var e=this.props,t=e.appUtil.params.questionId,n=e.routeName,i=e.questionsData,a=e.t;if(t){var r=i[t].name;this.setState({srOnlyNavigationMessage:a("sr_only_navigation_text.question_view",{questionName:r})})}else this.setState({srOnlyNavigationMessage:a("sr_only_navigation_text.".concat(n))})}},{key:"setUpTheme",value:function(){var e=this.props,t=e.supportsTheming,n=e.theme;Object(De.f)(n,t,!0)}},{key:"render",value:function(){var e=this.props,t=e.questionsData,n=e.appUtil.params.questionId,i=e.children,r=e.breakpoints[ze.a.BEYOND_ZOOM_150],o=Object(pt.p)(t,n),s=this.state,c=s.notifyTimerState,u=s.srOnlyNavigationMessage;return a.a.createElement(a.a.Fragment,null,a.a.createElement($e.a,{message:u,role:"status"}),o&&a.a.createElement(ot,{notifyTimerState:c}),a.a.createElement("div",{className:N()("d-flex flex-row test-container",{"test-container--fullscreen":!o,"low-width-layout":r})},a.a.createElement(dt,{showTimerTab:!o,notifyTimerState:c}),a.a.createElement("div",{className:"d-flex flex-column test-container__content"},i)))}}]),n}(i.PureComponent),gt=Object(o.a)(Object(r.connect)((function(e){var t=e.test.supportsTheming,n=e.candidate,i=n.questions.dataMap,a=n.sections;return{questionsData:i,theme:e.user.theme,sections:a,supportsTheming:t}}),(function(e){return{setUserTheme:function(t){return e(Object(M.setUserTheme)(t))}}})),Object(z.a)("BaseComponent should be used inside KeyboardShortcutsConsumer",Ye.a,"keyboardShortcutsContext"),Object(z.a)("BaseComponent should be wrapped with TestLifecycleConsumer",Ue.a,"lifeCycleContext"),Object(z.a)("BaseComponent should be used inside WindowWidthWrapper",ze.b,"breakpoints"),c.a,Object(s.c)(["common"]))(vt);n("biKL");function bt(e){var t,n=e.loadOfflineJS,i=e.continuousProctoring,r=e.imageProctoring,o=e.attemptId,s=e.appUtil.params.questionId,c=e.enableCandidateInactivity,h=e.questionsData,p=e.route.name,f=e.children,v=null==h||null===(t=h[s])||void 0===t?void 0:t.type;return a.a.createElement(m.b,null,a.a.createElement(l.a,{loadOfflineJS:n},a.a.createElement(d.a,{enable:Object(u.c)(i,r)},a.a.createElement(we,{singleImageProctoring:Object(u.d)(r),continuousImageProctoring:Object(u.b)(i)},a.a.createElement(Ve,null,a.a.createElement(Be,{enableCandidateInactivity:c,questionType:v,attemptId:o,questionId:s},a.a.createElement(Ge.a,null,a.a.createElement(ze.c,{breakpoints:[ze.a.BEYOND_ZOOM_125,ze.a.BEYOND_ZOOM_150,ze.a.BEYOND_ZOOM_200,ze.a.BEYOND_ZOOM_250]},a.a.createElement(gt,{routeName:p},f)))))))))}n.d(t,"PureBaseComponentWrapper",(function(){return bt})),n.d(t,"mapStateToProps",(function(){return yt}));var yt=function(e){var t=e.test,n=t.disableOfflineCheck,i=t.imageProctoring,a=t.continuousProctoring,r=t.enableCandidateInactivity,o=e.candidate;return{loadOfflineJS:!n,continuousProctoring:a,imageProctoring:i,enableCandidateInactivity:r,questionsData:o.questions.dataMap,attemptId:o.attempt.id}};t.default=Object(o.a)(Object(r.connect)(yt),c.a,Object(s.c)(["common"]))(bt)},PsKZ:function(e,t,n){},Td56:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r}));n("f3/d");function i(e,t){return t.sectional&&t.currentSection!==e}function a(e){var t=e.section,n=e.index,i=e.showName,a=e.defaultLabel,o=void 0===a?"Section":a;return!r(e.currentSection)||i?t.name:"".concat(o," ").concat(n+1)}function r(e){return-1!==e}},UE0f:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n("cDcd"),a=Object(i.createContext)(),r=a.Provider,o=a.Consumer},V7fo:function(e,t,n){},WfZi:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n("cDcd"),a=Object(i.createContext)(),r=a.Provider,o=a.Consumer},ayy4:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("lSNA"),a=n.n(i),r=n("eHHv");function o(e,t,n){return Object(r.b)(t,(function(t){if(void 0===t)throw new Error(e);return a()({},n,t)}))}},biKL:function(e,t,n){},kTy2:function(e,t,n){},tHjC:function(e,t,n){},tX8B:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));n("HAE/"),n("WLL4"),n("jm62"),n("8+KV"),n("0l/t"),n("ioFf"),n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("pIFo"),n("Tze0");var i=n("lSNA"),a=n.n(i),r=n("g2mX");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=s({},e);return n&&0!==e.seconds||delete i.seconds,i.days&&delete i.minutes,0===i.hours&&delete i.hours,t(i,!1)}function u(e){var t=Object(r.b)({days:{normal:e("common:time.day"),plural:e("common:time.day_plural")},hours:{normal:e("common:time.hour"),plural:e("common:time.hour_plural")},minutes:{normal:e("common:time.minute"),plural:e("common:time.minute_plural")},seconds:{normal:e("common:time.second"),plural:e("common:time.second_plural")}});return function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?c(e,t):t(e,n)}}function l(e){var t=Object(r.b)({days:{normal:e("common:time.day_short"),plural:e("common:time.day_short")},hours:{normal:e("common:time.hour_short"),plural:e("common:time.hour_short")},minutes:{normal:e("common:time.minute_short"),plural:e("common:time.minute_short")},seconds:{normal:e("common:time.second_short"),plural:e("common:time.second_short")}});return function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=c(e,t,n);return i.replace(/0([0-9])/gm,"$1").replace(/([0-9])\s/gm,"$1").trim()}}},vsS5:function(e,t,n){"use strict";n("HAE/"),n("WLL4"),n("jm62"),n("8+KV"),n("ioFf"),n("RW0V"),n("a1Th"),n("h7Nl"),n("I5cv"),n("rGqo"),n("yt8O"),n("Btvt"),n("0l/t"),n("2Spj");var i=n("lwsE"),a=n.n(i),r=n("W8MJ"),o=n.n(r),s=n("PJYZ"),c=n.n(s),u=n("7W2i"),l=n.n(u),m=n("a1gu"),d=n.n(m),h=n("Nsbk"),p=n.n(h),f=n("lSNA"),v=n.n(f),g=n("cDcd"),b=n.n(g),y=n("Wwog"),T=n("H59Z"),S=n("QfwD");function w(e){return e.join("-")}var O=n("Dept"),I=(n("bWfx"),n("9kay")),k=n("O766"),C=(n("V7fo"),Object(I.c)("common")((function(e){var t=e.config,n=void 0===t?[]:t,i=e.t,a=e.onClose;return b.a.createElement(k.a,{open:!0,title:b.a.createElement("div",{className:"d-flex justify-content-between keyboard-shortcuts__title"},i("keyboard_shortcuts.title")," ",b.a.createElement("span",{className:"keyboard-shortcuts__hint"},i("keyboard_shortcuts.hint"))),onClose:a,theme:"theme-m"},n.length?b.a.createElement("table",{className:"keyboard-shortcuts"},b.a.createElement("thead",null,b.a.createElement("tr",null,b.a.createElement("th",null,i("keyboard_shortcuts.keycode")),b.a.createElement("th",null,i("keyboard_shortcuts.desc")))),b.a.createElement("tbody",null,n.map((function(e){return b.a.createElement("tr",{key:e.keys,className:"keyboard-shortcuts__item"},b.a.createElement("td",{className:"keyboard-shortcuts__item__title"},e.title),b.a.createElement("td",{className:"keyboard-shortcuts__item__desc"},e.desc))})))):b.a.createElement("div",null,i("keyboard_shortcuts.empty")))})));function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return d()(this,n)}}var j=function(e){l()(n,e);var t=D(n);function n(){var e;return a()(this,n),e=t.call(this),v()(c()(e),"memoizedGetValue",void 0),v()(c()(e),"shortcuts",void 0),v()(c()(e),"toggleShortcutsDialog",(function(t){e.props.enable&&(e.state.showShortcutsDialog?e.setState({showShortcutsDialog:!1}):Object(S.t)(t)||e.setState({showShortcutsDialog:!0}))})),v()(c()(e),"addCommand",(function(t,n,i){if(T.a.bind(t,n),i){var a=_(_({},i),{},{keys:w(t)});e.shortcuts.push(a)}})),v()(c()(e),"removeCommand",(function(t,n){T.a.unbind(t,n),e.shortcuts=e.shortcuts.filter((function(e){var n=w(t);return e.keys!==n}))})),v()(c()(e),"getValue",(function(){return{addCommand:e.addCommand,removeCommand:e.removeCommand,toggleShortcutsDialog:e.toggleShortcutsDialog}})),e.state={showShortcutsDialog:!1},e.shortcuts=[],e.memoizedGetValue=Object(y.a)(e.getValue.bind(c()(e))),e}return o()(n,[{key:"componentDidMount",value:function(){T.a.bind(["shift","?"],this.toggleShortcutsDialog)}},{key:"componentWillUnmount",value:function(){T.a.unbind(["shift","?"],this.toggleShortcutsDialog)}},{key:"render",value:function(){var e=this.state.showShortcutsDialog;return b.a.createElement(O.b,{value:this.memoizedGetValue()},e&&b.a.createElement(C,{config:this.shortcuts,onClose:this.toggleShortcutsDialog}),this.props.children)}}]),n}(g.PureComponent);v()(j,"defaultProps",{enable:!0});t.a=j}}]);
//# sourceMappingURL=https://hrcdn.net/candidate-site/assets/sourcemaps/testbase-f2add8b3.js.map